{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:recommended',
    ':semanticCommits',
    ':dependencyDashboard',
    ':timezone(Asia/Tokyo)',
    ':label(dependencies)',
  ],
  packageRules: [
    {
      description: 'Flutter SDK and related packages',
      matchPackageNames: ['flutter', 'flutter_*', 'cupertino_icons'],
      groupName: 'Flutter SDK',
      schedule: ['at any time'],
      automerge: false,
      labels: ['flutter', 'sdk'],
      rangeStrategy: 'bump',
      respectLatest: true,
    },
    {
      description: 'Dart SDK and analyzer',
      matchPackageNames: ['dart', 'dart_*', 'analyzer'],
      groupName: 'Dart SDK',
      schedule: ['at any time'],
      automerge: false,
      labels: ['dart', 'sdk'],
      rangeStrategy: 'bump',
      respectLatest: false,
    },
    {
      description: 'Code generation tools',
      matchPackageNames: [
        'build_runner',
        'freezed',
        'freezed_annotation',
        'json_annotation',
        'json_serializable',
        'riverpod_generator',
        'riverpod_annotation',
        'slang_build_runner',
        'go_router_builder',
      ],
      groupName: 'Code generation',
      schedule: ['at any time'],
      automerge: false,
      labels: ['codegen'],
    },
    {
      description: 'State management - Riverpod',
      matchPackageNames: ['riverpod', 'riverpod_*', 'hooks_riverpod'],
      groupName: 'Riverpod',
      schedule: ['at any time'],
      automerge: false,
      labels: ['riverpod', 'state-management'],
    },
    {
      description: 'Navigation - go_router',
      matchPackageNames: ['go_router', 'go_router_*'],
      groupName: 'Navigation',
      schedule: ['at any time'],
      automerge: false,
      labels: ['navigation'],
    },
    {
      description: 'Internationalization - slang',
      matchPackageNames: ['slang', 'slang_*'],
      groupName: 'Internationalization',
      schedule: ['at any time'],
      automerge: false,
      labels: ['i18n'],
    },
    {
      description: 'Linting and formatting',
      matchPackageNames: [
        'flutter_lints',
        'custom_lint',
        'riverpod_lint',
        'freezed_lint',
        'yumemi_lints',
      ],
      groupName: 'Linting',
      schedule: ['at any time'],
      automerge: false,
      labels: ['linting'],
    },
    {
      description: 'Testing packages',
      matchPackageNames: ['flutter_test', 'test', 'test_*', 'mockito'],
      groupName: 'Testing',
      schedule: ['at any time'],
      automerge: false,
      labels: ['testing'],
    },
    {
      description: 'Development utilities',
      matchPackageNames: [
        'package_info_plus',
        'shared_preferences',
        'flutter_hooks',
        'flutter_localizations',
      ],
      groupName: 'Development utilities',
      schedule: ['at any time'],
      automerge: false,
      labels: ['utilities'],
    },
    {
      description: 'Node.js dependencies',
      matchManagers: ['npm'],
      groupName: 'Node.js',
      schedule: ['at any time'],
      automerge: false,
      labels: ['nodejs'],
    },
    {
      description: 'Bun package manager',
      matchPackageNames: ['bun'],
      matchManagers: ['mise'],
      groupName: 'Bun',
      schedule: ['at any time'],
      automerge: true,
      labels: ['bun', 'package-manager'],
      rangeStrategy: 'bump',
      respectLatest: false,
    },
    {
      description: 'package.json file updates',
      matchFileNames: ['package.json'],
      groupName: 'package.json',
      schedule: ['at any time'],
      automerge: false,
      labels: ['package-json'],
    },
    {
      description: 'Commitlint and related tools',
      matchPackageNames: ['@commitlint/*', 'husky', 'prettier'],
      groupName: 'Developer tools',
      schedule: ['at any time'],
      automerge: false,
      labels: ['dev-tools'],
    },
    {
      description: 'Monorepo management',
      matchPackageNames: ['melos'],
      groupName: 'Monorepo',
      schedule: ['at any time'],
      automerge: false,
      labels: ['monorepo'],
    },
    {
      description: 'mise tool versions (.tool-versions)',
      matchManagers: ['mise'],
      groupName: 'mise tools',
      schedule: ['at any time'],
      automerge: true,
      labels: ['mise', 'tools'],
      rangeStrategy: 'bump',
      respectLatest: false,
    },
  ],
  pub: {
    enabled: true,
    packageRules: [
      {
        matchFileNames: ['**/pubspec.yaml'],
        commitMessageTopic: '{{depName}}',
      },
    ],
  },
  commitMessage: {
    prefix: 'deps:',
    action: 'update',
    topic: '{{depName}}',
    extra: 'to {{newVersion}}'
  },
  prBodyTemplate: "This PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| {{depName}} | {{currentVersion}} â†’ {{newVersion}} | [![age](https://badges.renovateapi.com/packages/{{datasource}}/{{depName}}/{{newVersion}}/age-slim)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://badges.renovateapi.com/packages/{{datasource}}/{{depName}}/{{newVersion}}/adoption-slim)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://badges.renovateapi.com/packages/{{datasource}}/{{depName}}/{{newVersion}}/compatibility-slim/{{currentVersion}})](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://badges.renovateapi.com/packages/{{datasource}}/{{depName}}/{{newVersion}}/confidence-slim/{{currentVersion}})](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n{{#if releases}}\n{{#each releases}}\n<details>\n<summary>{{title}}</summary>\n\n{{body}}\n\n</details>\n{{/each}}\n{{/if}}\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: {{schedule}}\n\nðŸš¦ **Automerge**: {{automerge}}\n\nâ™» **Rebasing**: {{rebaseWhen}}\n\nðŸ”• **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Renovate Bot](https://github.com/renovatebot/renovate).\n",
  schedule: ['at any time'],
  timezone: 'Asia/Tokyo',
  ignorePaths: [
    '**/node_modules/**',
    '**/bower_components/**',
    '**/.git/**',
    '**/build/**',
    '**/dist/**',
    '**/test-report.json',
    '**/*.g.dart',
    '**/*.freezed.dart',
    '**/*.mocks.dart',
  ],
  enabledManagers: [
    'github-actions',
    'gradle',
    'gradle-wrapper',
    'npm',
    'pub',
    'mise',
    'regex',
  ],
  labels: ['renovate'],
  assignees: ['r0227n'],
  reviewers: ['r0227n'],
  semanticCommits: 'enabled',
  separateMinorPatch: false,
  separateMajorMinor: true,
  dependencyDashboard: true,
  dependencyDashboardTitle: 'ðŸ“¦ Dependency Dashboard',
  dependencyDashboardHeader: 'This issue lists Renovate updates and detected dependencies. Read the [Dependency Dashboard](https://docs.renovatebot.com/key-concepts/dashboard/) docs to learn more.',
  dependencyDashboardFooter: '- [ ] Check this box to trigger a request for Renovate to run again on this repository',
  prHourlyLimit: 10,
  prConcurrentLimit: 20,
  rebaseWhen: 'conflicted',
  platformCommit: true,
  automergeStrategy: 'squash',
  vulnerabilityAlerts: {
    enabled: true,
    labels: ['security'],
  },
  osvVulnerabilityAlerts: true,
  internalChecksFilter: 'strict',
  lockFileMaintenance: {
    enabled: true,
    automerge: false,
    schedule: ['at any time'],
  },
  rangeStrategy: 'bump',
  bumpVersion: 'patch',
  constraints: {
    dart: '^3.0.0',
    bun: '^1.0.0',
  },
  mise: {
    enabled: true,
    fileMatch: ['\\.mise\\.toml$', '\\.tool-versions$'],
  },
  customManagers: [
    {
      description: 'Flutter version in .mise.toml',
      fileMatch: ['\\.mise\\.toml$'],
      matchStrings: ['flutter\\s*=\\s*["\'](?<currentValue>[^"\'\n]+)["\']'],
      customType: 'regex',
      depNameTemplate: 'flutter/flutter',
      datasourceTemplate: 'github-releases',
    },
    {
      description: 'Bun version in .mise.toml',
      fileMatch: ['\\.mise\\.toml$'],
      matchStrings: ['bun\\s*=\\s*["\'](?<currentValue>[^"\'\n]+)["\']'],
      customType: 'regex',
      depNameTemplate: 'oven-sh/bun',
      datasourceTemplate: 'github-releases',
      extractVersionTemplate: '^bun-v(?<version>.+)$',
    },
  ],
}
